<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Lab5 readDB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="" content="Lab5">
</head>

<body onload="readData()">
  <div id="readReq">
    Placeholder
  </div>


  <script>
function readData(){
    const xhttp= new XMLHttpRequest();

    xhttp.open("GET", "https://comp4537lab5.herokuapp.com/readDB",true);
    xhttp.send();

    xhttp.onreadystatechange = function(){
        if((this.readyState==4)&&(this.status==200)){
            let response = JSON.parse(this.responseText);
            console.log(response);

            
            let dbText = "";
            /*for (let key in response) {
              dbText += "<div>" + response[key] + "</div>";
            } 
            */
            response.forEach( elem => dbText += elem.name + ":" + elem.score + "<br/>");

            document.getElementById("readReq").innerHTML=dbText;
        }
    };
}

  </script>
</body>
</html>